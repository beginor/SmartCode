@using SmartCode
@using SmartCode.Generator.Entity
@using static SmartCode.Generator.RazorTemplates.Contributions.Common;
@model BuildContext
@{
    var project = Model.Project;
    var buildTask = Model.Build;
    var table = Model.GetCurrentTable();
    var pkCols = table.Columns.Where(col => col.IsPrimaryKey).ToArray();
    var pkCount = pkCols.Count();
    var firstPk = pkCols.First();
    var normalCols = table.Columns.Where(col => !col.IsPrimaryKey);
    var newLine = Environment.NewLine;
}
using System.Linq;
using System.Threading.Tasks;
using Beginor.AppFx.Repository.Hibernate;
using NHibernate;
using NHibernate.Linq;
using @(project.Author).@(project.Module).@(buildTask.Module).Entities;

namespace @(project.Author).@(project.Module).@(buildTask.Module).Repositories {

    @($"/// <summary>{table.GetSummary()}仓储实现</summary>")
    public partial class @(table.ConvertedName)Repository : HibernateRepository<@(table.ConvertedName), @(ConvertCsType(firstPk))>, I@(table.ConvertedName)Repository {

        public @(table.ConvertedName)Repository(ISessionFactory sessionFactory) : base(sessionFactory) { }

    }

}
